<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>KaspiNet</title>
	<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
</head>

<body>
	<div id="app">
		<input v-model="search" type="text">
		<button @click="addNewText">Добавить</button>
		<table border="1">

			<button :disabled="!editText" @click="deleteAllText">Удалить весь список</button>

			<button @click="">Удалить</button>
			<input type="checkbox" v-model="editText">Изменить
			<div><span>count is {{ counter }}</span></div>

			<tr v-for="(todo,index) in todos_filter">
				<td><input type="checkbox" :value="index"  v-model="checked" @click="check"></td>
				<td><input :disabled='!editText' :value="todo.text" type="text"></td>
			</tr>

		</table>

	</div>

	<script src=".json"></script>
	<script>
		new Vue({
			el: '#app',
			data: {
				
				checked: [],
				counter: 0,
				search: '',
				disabled: '',
				editText: false,
				todos: [
					{ text: 'ААНурсултан' },
					{ text: 'Елдар' },
					{ text: 'Мейржан' },
					{ text: 'Арнур' },
					{ text: 'Диас' },
				]
			},

			watch: {
				checked(val) {
					console.log(val)
				}
			},

			mounted() {

			},

			created() {

			},

			computed: {




				todos_filter() {

					return this.todos.filter(todo => todo.text.toLowerCase() >= todo.text.toLowerCase().match(this.search.toLowerCase())).sort(function (a, b) {
						if (a.text.toLowerCase() > b.text.toLowerCase()) {
							return 1
						} if (a.text.toLowerCase() < b.text.toLowerCase()) {
							return -1
						}
						return 0
					})

				}
			},

			watch: {

			},

			methods: {

				check(val) {
					console.log(this.checked)
				},
			

			addNewText() {
				if (this.search.length) {
					this.todos.push({ text: this.search })
					this.counter++
				}
				this.search = ''

			},
			deleteText(index) {
				this.todos.splice(index, 1)
				console.log(index)
				this.counter--
			},
			deleteAllText(index) {
				this.todos = []
				this.counter = 0
			},
			editText() {
				this.disabled = false

			}
		}
		})
	</script>
</body>

</html>